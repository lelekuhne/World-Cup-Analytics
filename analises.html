<!doctype html><html lang="pt-BR"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Estadios ‚Äî Dashboard Copas</title><script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
<style>:root{--bg:#0b1220;--card:#0f1724;--accent:#1f6feb;--muted:#94a3b8}body{margin:0;font-family:Inter,Segoe UI,Helvetica,Arial;background:var(--bg);color:#e6eef8}header{background:linear-gradient(90deg, rgba(31,111,235,0.12), rgba(20,20,30,0.04));padding:14px 18px;border-bottom:1px solid rgba(255,255,255,0.03)}.container{max-width:1200px;margin:14px auto;padding:0 16px}.nav{display:flex;gap:12px;align-items:center}.nav a{color:#cfe1ff;text-decoration:none;padding:8px 12px;border-radius:8px}.nav a:hover{background:rgba(255,255,255,0.02);color:white}.title{font-size:18px;font-weight:700;margin-right:12px;color:white}.card{background:var(--card);padding:12px;border-radius:10px;box-shadow:0 6px 18px rgba(2,6,23,0.6);min-width:140px}.kpi{font-size:18px;font-weight:700;color:#fff}.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.full{grid-column:1/-1}.table-wrap{max-height:360px;overflow:auto;background:var(--card);padding:8px;border-radius:8px}.small{font-size:12px;color:var(--muted)}@media(max-width:900px){.grid{grid-template-columns:1fr}}</style></head><body>
<header><div class="container nav"><div class="title">Dashboard ‚Äî Copas do Mundo</div><nav style="display:flex;gap:6px"><a href="index.html">üè† In√≠cio</a><a href="selecoes.html">üáßüá∑ Sele√ß√µes</a><a href="estadios.html">üèüÔ∏è Est√°dios</a><a href="gols.html">‚öΩ Gols</a><a href="recordes.html">‚≠ê Recordes</a><a href="analises.html">An√°lises Especiais</a></nav></div></header>

<main class="container"><div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">

  <div class="card">
    <h2>1Ô∏è‚É£ Primeira Copa do Mundo</h2>
    <p>Pa√≠s-sede: <b>Uruguai (1930)</b></p>
    <p>Jogos inaugurais:</p>
    <ul>
      <li>Fran√ßa 4 √ó 1 M√©xico</li>
      <li>Estados Unidos 3 √ó 0 B√©lgica</li>
    </ul>
  </div>

  <div class="card">
    <h2>2Ô∏è‚É£ Sele√ß√µes que mais marcaram gols</h2>
    <div id="chart-gols" class="chart"></div>
  </div>

  <div class="card">
    <h2>3Ô∏è‚É£ Est√°dios que mais receberam jogos</h2>
    <div id="chart-estadios" class="chart"></div>
  </div>

  <div class="card">
    <h2>4Ô∏è‚É£ Evolu√ß√£o dos gols por jogo</h2>
    <div id="chart-evolucao" class="chart"></div>
  </div>

<div class="card">
	    <h2>5Ô∏è‚É£ Vantagem do pa√≠s-sede</h2>
	    <div id="chart-sede" class="chart"></div>
	  </div>
	
	  <div class="card full">
	    <h2>6Ô∏è‚É£ An√°lise de Finais</h2>
	    <div id="chart-finals-champions" class="chart"></div>
	    <div class="table-wrap" id="table-finals"></div>
	  </div>

  



<script>
function plotFinalsChampions(){
  const finals = DATA.filter(r => r["Fase"] === "Final");
  const champions = {};
  
  finals.forEach(r => {
    const pa = Number(r["Placar A"] || 0);
    const pb = Number(r["Placar B"] || 0);
    let winner = null;
    
    if (pa > pb) {
      winner = r["Time A"];
    } else if (pb > pa) {
      winner = r["Time B"];
    } else {
      // Se for empate, a observa√ß√£o deve indicar o vencedor (ex: "Brasil venceu nos p√™naltis")
      // Como n√£o temos essa informa√ß√£o estruturada, vamos ignorar empates para o gr√°fico de campe√µes.
      // Em Copas, finais sempre t√™m um vencedor.
      // Vamos assumir que o time com o placar maior √© o vencedor, mesmo que tenha sido na prorroga√ß√£o/p√™naltis.
      // Se for empate, o dado est√° incompleto para definir o campe√£o.
      // Para fins de visualiza√ß√£o, vamos usar a observa√ß√£o se existir, mas o dado original n√£o tem.
      // Vamos usar a l√≥gica de placar maior, que √© o que o dado sugere.
      if (r["Observacao"].includes("venceu")) {
        // Tentativa de inferir o vencedor pela observa√ß√£o, se houver
        if (r["Observacao"].includes(r["Time A"])) winner = r["Time A"];
        else if (r["Observacao"].includes(r["Time B"])) winner = r["Time B"];
      }
    }
    
    if (winner) {
      champions[winner] = (champions[winner] || 0) + 1;
    }
  });
  
  const arr = Object.entries(champions).map(([k, v]) => ({ team: k, wins: v })).sort((a, b) => b.wins - a.wins);
  
  Plotly.newPlot('chart-finals-champions', [{
    x: arr.map(a => a.team),
    y: arr.map(a => a.wins),
    type: 'bar',
    marker: { color: '#ffd700' } // Cor de ouro
  }], {
    title: 'T√≠tulos por Sele√ß√£o',
    paper_bgcolor: 'rgba(0,0,0,0)',
    plot_bgcolor: 'rgba(0,0,0,0)',
    font: { color: '#e6eef8' }
  });
}

function tableFinals(){
  const finals = DATA.filter(r => r["Fase"] === "Final").sort((a, b) => b["Ano"] - a["Ano"]);
  let html = '<table style="width:100%;border-collapse:collapse;color:#dbeafe"><thead><tr><th>Ano</th><th>Placar</th><th>Vencedor</th><th>Observa√ß√£o</th></tr></thead><tbody>';
  
  finals.forEach(r => {
    const pa = Number(r["Placar A"] || 0);
    const pb = Number(r["Placar B"] || 0);
    let winner = 'Empate?';
    
    if (pa > pb) {
      winner = r["Time A"];
    } else if (pb > pa) {
      winner = r["Time B"];
    } else {
      // Tenta inferir o vencedor pela observa√ß√£o
      if (r["Observacao"].includes(r["Time A"])) winner = r["Time A"];
      else if (r["Observacao"].includes(r["Time B"])) winner = r["Time B"];
      else winner = 'Indefinido';
    }
    
    html += `<tr><td class="small">${r["Ano"]}</td><td class="small">${r["Time A"]} ${r["Placar A"]} x ${r["Placar B"]} ${r["Time B"]}</td><td class="small">${winner}</td><td class="small">${r["Observacao"]}</td></tr>`;
  });
  
  html += '</tbody></table>';
  document.getElementById('table-finals').innerHTML = html;
}

plotFinalsChampions();
tableFinals();
</script>
</body>
</html>

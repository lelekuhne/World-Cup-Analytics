
<!doctype html><html lang="pt-BR"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Estadios ‚Äî Dashboard Copas</title><script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
<style>:root{--bg:#0b1220;--card:#0f1724;--accent:#1f6feb;--muted:#94a3b8}body{margin:0;font-family:Inter,Segoe UI,Helvetica,Arial;background:var(--bg);color:#e6eef8}header{background:linear-gradient(90deg, rgba(31,111,235,0.12), rgba(20,20,30,0.04));padding:14px 18px;border-bottom:1px solid rgba(255,255,255,0.03)}.container{max-width:1200px;margin:14px auto;padding:0 16px}.nav{display:flex;gap:12px;align-items:center}.nav a{color:#cfe1ff;text-decoration:none;padding:8px 12px;border-radius:8px}.nav a:hover{background:rgba(255,255,255,0.02);color:white}.title{font-size:18px;font-weight:700;margin-right:12px;color:white}.card{background:var(--card);padding:12px;border-radius:10px;box-shadow:0 6px 18px rgba(2,6,23,0.6);min-width:140px}.kpi{font-size:18px;font-weight:700;color:#fff}.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.full{grid-column:1/-1}.table-wrap{max-height:360px;overflow:auto;background:var(--card);padding:8px;border-radius:8px}.small{font-size:12px;color:var(--muted)}@media(max-width:900px){.grid{grid-template-columns:1fr}}</style></head><body>
<header><div class="container nav"><div class="title">Dashboard ‚Äî Copas do Mundo</div><nav style="display:flex;gap:6px"><a href="index.html">üè† In√≠cio</a><a href="selecoes.html">üáßüá∑ Sele√ß√µes</a><a href="estadios.html">üèüÔ∏è Est√°dios</a><a href="gols.html">‚öΩ Gols</a><a href="recordes.html">‚≠ê Recordes</a><a href="analises.html">An√°lises Especiais</a></nav></div></header>
<main class="container"><div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
  <div><h2 style="margin:4px 0;color:white">Est√°dios e Cidades</h2><div class="small">Top est√°dios por gols e cidades com mais jogos</div></div>
  <div style="display:flex;gap:8px;align-items:center"><div class="card"><label class="small">Pa√≠s-sede</label><br><select id="stadium-country-filter"><option value="all">Todos</option></select></div></div>
</div>
<div class="grid" style="margin-top:12px">
  <div id="chart-top-stadia" class="card" style="min-height:360px"></div>
	  <div id="chart-goals-by-host" class="card" style="min-height:360px"></div>
  <div id="chart-top-cities" class="card" style="min-height:360px"></div>
  <div class="card full table-wrap" id="table-stadia"></div>
</div></main>
<footer style="color:var(--muted);text-align:center;padding:18px 0">Gerado automaticamente ¬∑ Dados embutidos ¬∑ Teste local ou GitHub Pages</footer>


<script src="dados.js"></script>
<script>
</script>

<script>
const countries = unique(DATA.map(d=>d["Pais"]));
const fsel = document.getElementById('stadium-country-filter');
countries.forEach(c=>{ const o=document.createElement('option'); o.value=c; o.text=c; fsel.appendChild(o); });
fsel.addEventListener('change', ()=> renderStadiaPage());
function plotGoalsByHost(filtered){
  const byYear = {};
  filtered.forEach(r => {
    const y = r["Ano"];
    const g = Number(r["Placar A"] || 0) + Number(r["Placar B"] || 0);
    byYear[y] = (byYear[y] || { goals: 0, games: 0 });
    byYear[y].goals += g;
    byYear[y].games += 1;
  });
  const xs = Object.keys(byYear).sort((a, b) => a - b);
  const ys = xs.map(x => byYear[x].goals);

  Plotly.newPlot('chart-goals-by-host', [{
    x: xs,
    y: ys,
    type: 'bar',
    name: 'Gols Totais'
  }, {
    x: xs,
    y: xs.map(x => (byYear[x].games ? (byYear[x].goals / byYear[x].games) : 0).toFixed(2)),
    type: 'scatter',
    mode: 'lines+markers',
    name: 'M√©dia de Gols',
    yaxis: 'y2',
    line: { color: 'red' }
  }], {
    title: { text: 'Gols Totais e M√©dia de Gols por Edi√ß√£o (Pa√≠s-Sede)' },
    paper_bgcolor: 'rgba(0,0,0,0)',
    plot_bgcolor: 'rgba(0,0,0,0)',
    font: { color: '#e6eef8' },
    yaxis: { title: 'Gols Totais' },
    yaxis2: { title: 'M√©dia de Gols', overlaying: 'y', side: 'right' }
  });
}

function renderStadiaPage(){ const country = fsel.value; const filtered = (country==='all')?DATA:DATA.filter(d=>d["Pais"]===country); const bySt={}; filtered.forEach(r=>{ const s=r["Estadio"]||'SEM_ESTADIO'; const g=Number(r["Placar A"]||0)+Number(r["Placar B"]||0); bySt[s]=(bySt[s]||0)+g; }); const arr = Object.entries(bySt).map(([k,v])=>({stadium:k,goals:v})).sort((a,b)=>b.goals-a.goals).slice(0,12); Plotly.newPlot('chart-top-stadia',[{x:arr.map(a=>a.goals),y:arr.map(a=>a.stadium),type:'bar',orientation:'h'}],{title:{text:'Top est√°dios por gols'},paper_bgcolor:'rgba(0,0,0,0)',plot_bgcolor:'rgba(0,0,0,0)',font:{color:'#e6eef8'}}); const byC={}; filtered.forEach(r=> byC[r["Cidade"]]=(byC[r["Cidade"]]||0)+1 ); const carr = Object.entries(byC).map(([k,v])=>({city:k,games:v})).sort((a,b)=>b.games-a.games).slice(0,12); Plotly.newPlot('chart-top-cities',[{x:carr.map(a=>a.games),y:carr.map(a=>a.city),type:'bar',orientation:'h'}],{title:{text:'Cidades com mais jogos'},paper_bgcolor:'rgba(0,0,0,0)',plot_bgcolor:'rgba(0,0,0,0)',font:{color:'#e6eef8'}}); const rows = filtered.slice(0,200); let html = '<table style="width:100%;border-collapse:collapse;color:#dbeafe"><thead><tr><th>Ano</th><th>Estadio</th><th>Cidade</th><th>Time A</th><th>Placar</th><th>Time B</th></tr></thead><tbody>'; rows.forEach(r=> html += `<tr><td class="small">${r["Ano"]}</td><td class="small">${r["Estadio"]}</td><td class="small">${r["Cidade"]}</td><td class="small">${r["Time A"]}</td><td class="small">${r["Placar A"]} x ${r["Placar B"]}</td><td class="small">${r["Time B"]}</td></tr>`); html += '</tbody></table>'; document.getElementById('table-stadia').innerHTML = html; plotGoalsByHost(filtered); } renderStadiaPage();
</script>
</body></html>
